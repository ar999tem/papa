{"version":3,"file":"static/js/512.2e63ed06.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/Profile/myPosts/MyPosts.module.css?fadc","webpack://my-app/./src/components/Profile/myPosts/post/Post.module.css?822a","components/Profile/myPosts/post/Post.jsx","components/Profile/myPosts/MyPosts.jsx","components/Profile/myPosts/MyPostsContainer.jsx","webpack://my-app/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatuswithHocs.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileInfo/ProfileContainer.jsx","hoc/WithAutchRedirect.js","utils/validators.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__8FbRq\",\"posts\":\"MyPosts_posts__9XjCA\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__pbf-X\"};","import s from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n  return <div className={s.item}>\r\n    <img src='https://static0.srcdn.com/wordpress/wp-content/uploads/2021/02/Avatar-Next-Shadow-2-1.jpg' />\r\n    {props.message}\r\n    <div><span>like</span> {props.likesCount}\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\n// import { Field, reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../../utils/validators';\r\nimport { Textarea } from '../../common/Preloader/formsControls/formsControls';\r\nimport s from './MyPosts.module.css'\r\nimport Post from './post/Post';\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\nconst MyPosts = React.memo (props => {\r\n  let postsElements = [...props.posts]\r\n  .reverse()\r\n  .map(p => <Post message={p.message} likesCount={p.likesCount} />)\r\n  let AddNewPost = (values) => {\r\n    props.addPost(values.newPostText)\r\n  }\r\n  return <div className={s.postsBlock}>\r\n    <h3> My posts</h3>\r\n    <div>\r\n      {/* <AddPostFormRedux onSubmit={AddNewPost} /> */}\r\n    </div>\r\n    <div className={s.posts}>\r\n      {postsElements}\r\n    </div>\r\n  </div>\r\n})\r\nconst AddPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        {/* <Field component={Textarea} placeholder=\"post text\" name='newPostText' validate={[required, maxLength10]} /> */}\r\n      </div>\r\n      <div> <button >Add post</button></div>\r\n    </form>)\r\n}\r\n// const AddPostFormRedux = reduxForm({\r\n//   form: 'MyPostsAddPostForm'\r\n// })(AddPostForm)\r\n\r\nexport default MyPosts;","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText\r\n  }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostText) => {\r\n      dispatch(addPostActionCreator(newPostText))\r\n    }\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__DWj9v\"};","import React from \"react\"\r\nimport { useEffect } from \"react\"\r\nimport { useState } from \"react\"\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateUserStatus(status)\r\n    }\r\n    const onStatusChange = (e) => {\r\n        setStatus(\r\n            e.target.value)\r\n    }\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode}>{props.status || 'no status'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} value={status} ></input>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css'\r\nimport ProfileStatusWithHooks from './ProfileStatuswithHocs';\r\n\r\nconst ProfileInfo = ({ profile, status, updateUserStatus }) => {\r\n  if (!profile) {\r\n    return <Preloader />\r\n  }\r\n  return (<div>\r\n    <div className={s.descriptionBlock}>\r\n      <img src={profile.photos.large} />\r\n      <ProfileStatusWithHooks status={status}\r\n        updateUserStatus={updateUserStatus} />\r\n    </div>\r\n  </div>)\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from './myPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={props.profile}\r\n        status={props.status}\r\n        updateUserStatus={props.updateUserStatus} />\r\n      <MyPostsContainer />\r\n    </div>)\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from '../Profile';\r\nimport { connect } from \"react-redux\";\r\nimport { getUserProfile, getUserStatus, updateUserStatus } from \"../../../redux/profileReducer\";\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\";\r\nimport { WithAuthRedirect } from \"../../../hoc/WithAutchRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId\r\n    if (!userId) {\r\n      userId = this.props.autorizeduserId\r\n    }\r\n     if (!userId){\r\n      this.props.history.push('/login')\r\n     }\r\n    this.props.getUserProfile(userId)\r\n    this.props.getUserStatus(userId)\r\n  }\r\n  render() {\r\n    return <Profile profile={this.props.profile}\r\n      status={this.props.status}\r\n      isAuth={this.props.isAuth}\r\n      updateUserStatus={this.props.updateUserStatus}\r\n    />\r\n  }\r\n}\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  autorizeduserId: state.auth.userId,\r\n  isAuth: state.auth.isAuth\r\n})\r\nfunction withRouter(Component) {\r\n  function ComponentWithRouterProp(props) {\r\n    let location = useLocation();\r\n    let navigate = useNavigate();\r\n    let params = useParams();\r\n    return (\r\n      <Component\r\n        {...props}\r\n        match={{ location, navigate, params }}\r\n      />\r\n    );\r\n  }\r\n  return ComponentWithRouterProp;\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getUserStatus, updateUserStatus }), withRouter, //WithAuthRedirect\r\n)(ProfileContainer)","import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to='/login' />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}","export const required = value => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n}\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `max length is ${maxLength} symbols`\r\n    return undefined\r\n}"],"names":["props","className","s","src","message","likesCount","maxLengthCreator","React","postsElements","posts","reverse","map","p","connect","state","profilePage","newPostText","dispatch","addPost","addPostActionCreator","MyPosts","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","target","value","onBlur","updateUserStatus","autoFocus","profile","photos","large","Preloader","ProfileContainer","userId","this","match","params","autorizeduserId","history","push","getUserProfile","getUserStatus","isAuth","compose","auth","Component","location","useLocation","navigate","useNavigate","useParams","mapStateToPropsForRedirect","WithAuthRedirect","RedirectComponent","to","maxLength","length"],"sourceRoot":""}